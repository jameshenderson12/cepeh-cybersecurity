version: "2.0"
stories:
- story: introduction
  steps:
  - intent: greet
  - action: utter_greet
  - intent: give_name
    entities:
    - name
  - action: utter_welcome
  - action: utter_continue
  - checkpoint: check_continue

- story: do not continue
  steps:
  - checkpoint: check_continue
  - intent: deny
  - action: action_user_to_continue
  - slot_was_set:
    - shall_continue: false
  - action: utter_goodbye
  - action: action_pause

- story: yes to continue
  steps:
  - checkpoint: check_continue
  - intent: affirm
  - action: action_user_to_continue
  - slot_was_set:
    - shall_continue: true
  - action: utter_inform_questions
  - action: utter_rating_q1
  - intent: technical_confidence
    entities:
    - technical_confidence
  - checkpoint: check_q1

- story: continue to question 2, correct
  steps:
  - checkpoint: check_q1
  - action: utter_causes_cybersecurity_attacks
  - intent: correct
  - action: utter_correct
  - checkpoint: check_q2

- story: continue to question 2, incorrect
  steps:
  - checkpoint: check_q1
  - action: utter_causes_cybersecurity_attacks
  - intent: incorrect
  - action: utter_incorrect
  - checkpoint: check_q2

- story: unhappy with role play, say goodbye
  steps:
  - checkpoint: check_q3
  - intent: deny
  - action: action_user_to_roleplay
  - slot_was_set:
    - shall_roleplay: false
  - action: utter_goodbye
  - action: action_pause

- story: happy with role play, provide background
  steps:
  - checkpoint: check_q3
  - intent: affirm
  - action: action_user_to_roleplay
  - slot_was_set:
    - shall_roleplay: true
  - action: utter_background
  - checkpoint: check_background

- story: agree background is scary
  steps:
  - checkpoint: check_background
  - intent: affirm
  - action: utter_birthday_query
  - checkpoint: check_birthday

- story: disagree background is scary
  steps:
  - checkpoint: check_background
  - intent: deny
  - action: utter_disbelief
  - action: utter_birthday_query
  - checkpoint: check_birthday

- story: admit to birthday party meeting
  steps:
  - checkpoint: check_birthday
  - intent: affirm
  - action: utter_guess_what_happened
  - checkpoint: check_what_happened

- story: refuse to admit to birthday party meeting
  steps:
  - checkpoint: check_birthday
  - intent: deny
  - action: utter_fiction_story
  - action: utter_guess_what_happened
  - checkpoint: check_what_happened

- story: guess what they did next, wrong
  steps:
  - checkpoint: check_what_happened
  - intent: wrong_action
  - action: utter_clarify_email_sender
  - checkpoint: check_clarification

- story: guess what they did next, right
  steps:
  - checkpoint: check_what_happened
  - intent: right_action
  - action: utter_postive_reaction
  - action: utter_clarify_email_sender
  - checkpoint: check_clarification

- story: yes to being monitored
  steps:
  - checkpoint: check_if_monitored
  - intent: affirm
  - action: utter_how_to_prevent
  - checkpoint: check_prevent

- story: no to being monitored
  steps:
  - checkpoint: check_if_monitored
  - intent: deny
  - action: utter_doubt_in_monitoring
  - action: utter_how_to_prevent
  - checkpoint: check_prevent

- story: user responds correctly to future prevention
  steps:
  - checkpoint: check_prevent
  - intent: good_prevention
  - action: utter_good_prevention
  - action: utter_phishing_question
  - checkpoint: check_phishing

- story: user responds reasonably to future prevention
  steps:
  - checkpoint: check_prevent
  - intent: fair_prevention
  - action: utter_fair_prevention
  - action: utter_phishing_question
  - checkpoint: check_phishing

- story: user responds poorly to future prevention
  steps:
  - checkpoint: check_prevent
  - intent: poor_prevention
  - action: utter_poor_prevention
  - action: utter_phishing_question
  - checkpoint: check_phishing

- story: user is aware of phishing
  steps:
  - checkpoint: check_phishing
  - intent: affirm
  - action: utter_aware_phishing
  - action: utter_feel_better
  - or:
    - intent: affirm
    - intent: deny
  - action: utter_it_happens_alot
  - action: utter_dont_reveal_much
  - action: utter_nhs_policy_question
  - checkpoint: check_nhs_policy

- story: user is unaware of phishing
  steps:
  - checkpoint: check_phishing
  - intent: deny
  - action: utter_aware_phishing
  - action: utter_feel_better
  - or:
    - intent: affirm
    - intent: deny
  - action: utter_it_happens_alot
  - action: utter_dont_reveal_much
  - action: utter_nhs_policy_question
  - checkpoint: check_nhs_policy

- story: user is familiar with nhs policy
  steps:
  - checkpoint: check_nhs_policy
  - intent: affirm
  - action: utter_familiar_nhs_policy
  - action: utter_role_play_thanks
  - checkpoint: check_q4

- story: user is unfamiliar with nhs policy
  steps:
  - checkpoint: check_nhs_policy
  - intent: deny
  - action: utter_unfamliar_nhs_policy
  - action: utter_role_play_thanks
  - checkpoint: check_q4

- story: continue to question 4, incorrect
  steps:
  - checkpoint: check_q4
  - action: utter_whose_fault_cyberattack
  - intent: incorrect
  - action: utter_incorrect
  - checkpoint: check_q5

- story: continue to question 4, correct
  steps:
  - checkpoint: check_q4
  - action: utter_whose_fault_cyberattack
  - intent: correct
  - action: utter_correct
  - checkpoint: check_q5

- story: continue to question 5
  steps:
  - checkpoint: check_q5
  - action: utter_why_think_that
  - intent: answer_why_think_that
  - action: utter_different_if_real
  - intent: answer_different_if_real
  - action: utter_rating_q7
  - intent: final_cybersecurity_confidence
    entities:
    - final_cybersecurity_confidence
  - action: utter_final_thanks
  - action: action_pause
